group: Quantitation

title: SimQuant

description: >
   Perform quantitation on SIM scans. 
   If possible, peptides are extracted from the PSM result list specified.
   Additional peptides can be specified via input text files or the peptides
   parameter. Gene models for these non-PSM peptides can be added as input
   files to enable protein quantitation.
   <br />
   <span style='background-color: #eaa;'><b>Warning:</b> SimQuant is still in development. Use at your own risk.</span>

type: processor

input:
  - key: spectraFiles
    label: spectra
    formats: [xml-mzdata, xml-mzdata-compressed, xml-mzxml, xml-mzxml-compressed, xml-mzml, xml-mzml-compressed]
    min: 1
  - key: psmFile
    label: PSM list
    formats: [csv]
    max: 1
  - key: peptideFiles
    label: peptide
    formats: [txt]
  - key: modelFiles
    label: gene model
    formats: [fasta]
	

defaultOutputDirectory: spectraFiles

output:
  - key: xhtmlReport
    label: XHTML report
    format: xhtml
    filename: quantitation-results.xhtml
    default: yes
  - key: yamlReport
    label: YAML report
    format: yaml
    filename: quantitation-results.yaml
    default: yes
  - key: proteinCsv
    label: CSV protein quantitation results
    format: csv
    filename: quantified-proteins.csv
    default: yes

parameters:
  - key: peptides
    type: string
    label: Peptides
    description: Multiple peptides can be separated by spaces or commas.
    default: ''
  - key: excludeAminoAcids
    type: string
    default: ''
    label: Exclude amino acids
    description: "If you have reason to believe that proline containing peptides will mess up your quantitation, enter 'P' here."
  - key: modification
    label: Modification
    type: enum
    default: argc13
    choices: [{argc13: 'heavy arginine'}]
  - key: scanType
    label: Scans to analyze
    type: enum
    choices: [{sim: SIM scans only}, {all: All MS1 scans}, {full: Full scans only}]
    default: 'all'
  - key: isotopeCount
    label: Isotope count
    type: int
    default: 3
    min: 1
    max: 10
  - key: minCharge
    label: Minimum charge
    type: int
    default: 2
    min: 1
    max: 10
  - key: maxCharge
    label: Maximum charge
    type: int
    default: 3
    min: 1
    max: 10
  - key: minSnr
    label: Minimum SNR
    type: float
    default: 2.0
    min: 0.0
    step: 0.1
  - key: massAccuracy
    label: Mass accuracy
    type: float
    suffix: ppm
    default: 5.0
    min: 0.0
    step: 0.1
    description: Specify how accurately the Gauss fitted peaks must match to the target m/z values of the peptides. That is, enter the mass accuracy of your MS here.
  - key: useMaxIdentificationQuantitationTimeDifference
    label: Require a MS2 event close to every quantitation event
    type: flag
    default: yes
  - key: maxIdentificationQuantitationTimeDifference
    label: MS2 / SimQuant RT accuracy
    type: float
    suffix: minutes
    default: 1.0
    min: 0.0
    description: The maximum retention time difference between a MS2 identification and a SimQuant quantitation event for any peptide.
  - key: printStatistics
    label: Print quantitation failure statistics
    type: flag
    default: yes
  - key: showPeptideInProtein
    label: Show peptide location within protein
    group: SimQuant Report
    type: flag
    default: yes
  - key: showElutionProfile
    label: Show elution profile
    group: SimQuant Report
    type: flag
    default: yes
  - key: includeSpectra
    label: Include spectra
    group: SimQuant Report
    type: flag
    default: yes
    
needs:
  - ext.simquant
  